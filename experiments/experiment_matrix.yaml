# ìë™ ì‹¤í—˜ ë§¤íŠ¸ë¦­ìŠ¤ ì •ì˜ (OCR ì§€ì› ë²„ì „)
# ëª¨ë¸ Ã— ê¸°ë²• Ã— OCR ì¡°í•©ì„ ì •ì˜í•˜ì—¬ ì‹¤í—˜ ìƒì„±

models:
  swin_transformer:
    model_name: 'swin_base_patch4_window12_384.ms_in1k'
    batch_size: 32
    image_size: 384
    priority: 2
    estimated_time_minutes: 90
    
  efficientnet_b4:
    model_name: 'efficientnet_b4.ra2_in1k'
    batch_size: 48
    image_size: 320
    priority: 1
    estimated_time_minutes: 75
    
  convnext_base:
    model_name: 'convnext_base.fb_in1k'
    batch_size: 28
    image_size: 384
    priority: 3
    estimated_time_minutes: 100
    
  maxvit_base:
    model_name: 'maxvit_base_tf_384.in1k'
    batch_size: 24
    image_size: 384
    priority: 4
    estimated_time_minutes: 110

techniques:
  baseline:
    description: "ê¸°ë³¸ CrossEntropy ì†ì‹¤"
    criterion: 'CrossEntropyLoss'
    mixup_cutmix_prob: 0.0
    priority: 6
    expected_improvement: 0.0
    
  focal_loss:
    description: "Focal Loss (hard sample ì§‘ì¤‘)"
    criterion: 'FocalLoss'
    focal_loss:
      alpha: 1.0
      gamma: 2.0
    mixup_cutmix_prob: 0.0
    priority: 4
    expected_improvement: 0.02
    
  mixup_cutmix:
    description: "MixUp + CutMix ë°ì´í„° ì¦ê°•"
    criterion: 'CrossEntropyLoss'
    mixup_cutmix_prob: 0.5
    priority: 3
    expected_improvement: 0.03
    
  focal_mixup:
    description: "Focal Loss + MixUp/CutMix ì¡°í•©"
    criterion: 'FocalLoss'
    focal_loss:
      alpha: 1.0
      gamma: 2.0
    mixup_cutmix_prob: 0.5
    priority: 1
    expected_improvement: 0.05
    
  label_smooth:
    description: "Label Smoothing Cross Entropy"
    criterion: 'LabelSmoothingCrossEntropy'
    label_smoothing:
      smoothing: 0.1
    mixup_cutmix_prob: 0.0
    priority: 5
    expected_improvement: 0.01
    
  label_mixup:
    description: "Label Smoothing + MixUp/CutMix"
    criterion: 'LabelSmoothingCrossEntropy'
    label_smoothing:
      smoothing: 0.1
    mixup_cutmix_prob: 0.5
    priority: 2
    expected_improvement: 0.04

# ğŸ”¥ ìƒˆë¡œ ì¶”ê°€: OCR ì„¤ì • ì˜µì…˜
ocr_options:
  no_ocr:
    description: "OCR ë¯¸ì ìš©"
    enabled: false
    priority: 2
    time_multiplier: 1.0
    expected_improvement: 0.0
    
  with_ocr:
    description: "OCR ì ìš© (í…ìŠ¤íŠ¸ ì •ë³´ í™œìš©)"
    enabled: true
    priority: 1  # OCRì´ ë” íš¨ê³¼ì ì´ë¼ê³  ê°€ì •
    time_multiplier: 1.2  # OCR ì²˜ë¦¬ë¡œ ì¸í•œ ì‹œê°„ ì¦ê°€
    expected_improvement: 0.03
    ocr_config:
      ocr_model: "TrOCR"  # ë˜ëŠ” ë‹¤ë¥¸ OCR ëª¨ë¸
      confidence_threshold: 0.7
      max_text_length: 100
      text_embedding_dim: 768

# ì‹¤í—˜ ìš°ì„ ìˆœìœ„ ê³„ì‚° ê·œì¹™ (OCR ì°¨ì› ì¶”ê°€)
priority_weights:
  model_priority: 0.25    # ë¹ ë¥¸ ëª¨ë¸ ìš°ì„ 
  technique_priority: 0.4  # íš¨ê³¼ í° ê¸°ë²• ìš°ì„ 
  ocr_priority: 0.25      # OCR íš¨ê³¼ ìš°ì„ 
  estimated_time: 0.1     # ì§§ì€ ì‹œê°„ ìš°ì„ 

# ì‹¤í—˜ ìƒì„± ì˜µì…˜
experiment_options:
  # OCR ì‹¤í—˜ ìƒì„± ëª¨ë“œ
  ocr_experiment_mode: "none"  # "all", "selective", "none"
  # all: ëª¨ë“  ì¡°í•©ì— OCR ì ìš©/ë¯¸ì ìš© ë‘˜ ë‹¤ ìƒì„± (ì´ 48ê°œ ì‹¤í—˜)
  # selective: ìƒìœ„ ê¸°ë²•ë“¤ì—ë§Œ OCR ì ìš©/ë¯¸ì ìš© ìƒì„± (ì´ 32ê°œ ì‹¤í—˜)
  # none: OCR ì—†ì´ ê¸°ì¡´ 24ê°œ ì‹¤í—˜ë§Œ ìƒì„±
  
  # selective ëª¨ë“œì—ì„œ OCRì„ ì ìš©í•  ê¸°ë²•ë“¤
  ocr_selective_techniques: ["focal_mixup", "label_mixup", "mixup_cutmix", "focal_loss"]
  
  # OCR ì‹¤í—˜ì˜ ìš°ì„ ìˆœìœ„ ë¶€ìŠ¤íŠ¸
  ocr_priority_boost: 0.1

# ì „ì—­ ì„¤ì •
global_settings:
  base_config_path: "codes/config_v2.yaml"
  output_dir: "experiments/configs"
  log_dir: "experiments/logs"
  submission_dir: "experiments/submissions"
  main_script_path: "codes/gemini_main_v2.py"
  
  # OCR ê´€ë ¨ ì„¤ì •
  ocr_data_path: "data/ocr_texts"  # OCR í…ìŠ¤íŠ¸ ë°ì´í„° ê²½ë¡œ
  ocr_features_path: "data/ocr_features"  # OCR íŠ¹ì„± ì €ì¥ ê²½ë¡œ
